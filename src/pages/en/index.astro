---
import { Button } from "@/components/ui/button";
import Layout from "../../layouts/Layout.astro";
import { Bike } from "@lucide/astro";
import Header from "@/components/Header.astro";
import MediaContent from "@/components/MediaContent.astro";
import ReviewList from "@/components/ReviewList.astro";
import Card from "@/components/Card.astro";
import { getLangFromUrl, useTranslations, useTranslatedPath } from "@/lib/i18n";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
const translatePath = useTranslatedPath(lang);
---

<Layout>
  <div data-scroll-animated class="h-28 w-screen sticky top-0 z-10 bg-muted">
  </div>
  <Header
    title={t("home.header.title")}
    text={t("home.header.text")}
    image="/header-image.jpg"
    buttonText={t("home.header.button")}
    buttonLink={translatePath("/the-place")}
  />
  <div
    data-scroll-animated
    class="h-28 -mb-20 w-screen sticky top-0 z-10 bg-background"
  >
  </div>
  <MediaContent
    direction="left"
    title={t("home.rooms.title")}
    text={t("home.rooms.text")}
    image="/header-image.jpg"
    buttonText={t("home.rooms.button")}
    buttonLink="/bedrooms"
  />
  <MediaContent
    title={t("home.counter.title")}
    text={t("home.counter.text")}
    image="/header-image.jpg"
    buttonText={t("home.counter.button")}
    buttonLink="/bedrooms"
  />
  <ReviewList
    title={t("home.reviews.title")}
    reviews={[
      {
        stars: 5,
        name: "Yves Haguier",
        publishedAtDate: "2025-07-18T19:20:47.159Z",
        reviewUrl:
          "https://www.google.com/maps/reviews/data=!4m8!14m7!1m6!2m5!1sCi9DQUlRQUNvZENodHljRjlvT2w4MllqRnFOVE4xWVUxUFlpMXFRbXBOYVd4b1NHYxAB!2m1!1s0x0:0xe0c49553166e1500!3m1!1s2@1:CAIQACodChtycF9oOl82YjFqNTN1YU1PYi1qQmpNaWxoSGc%7C0cTduE8WsDn%7C?hl=en",
        text: "We only have compliments to give, both for our hosts, the quality of their meals, the rooms, and the location directly on the greenway. The setting is magnificent and so is the building. Our only disappointment was having to shorten our stay. We will be back!",
      },
      {
        stars: 5,
        name: "R. H.",
        publishedAtDate: "2025-07-13T20:06:58.432Z",
        reviewUrl:
          "https://www.google.com/maps/reviews/data=!4m8!14m7!1m6!2m5!1sCi9DQUlRQUNvZENodHljRjlvT2t4ZlJrYzNSRkZETjJKcFozbHBibkJEVFdFMFNsRRAB!2m1!1s0x0:0xe0c49553166e1500!3m1!1s2@1:CAIQACodChtycF9oOkxfRkc3RFFDN2JpZ3lpbnBDTWE0SlE%7C0cS06XOkBPS%7C?hl=en",
        text: "A perfect accommodation for cyclists and also for drivers on the Lyon - Mediterranean route. Very quiet, beautifully green with many different seating areas, plus a pool and everything very relaxing. The hosts are very friendly and laid-back. The room was very pleasant, the shower in the room beautifully designed and practical. Breakfast is sufficient. Thank you for the restful overnight stay.",
      },
      {
        stars: 5,
        name: "Joelle Milliez",
        publishedAtDate: "2025-07-13T20:04:13.335Z",

        reviewUrl:
          "https://www.google.com/maps/reviews/data=!4m8!14m7!1m6!2m5!1sCi9DQUlRQUNvZENodHljRjlvT25oU2VGVXpibTFEWVdaT1drSmxkbUZWVkhCRFZrRRAB!2m1!1s0x0:0xe0c49553166e1500!3m1!1s2@1:CAIQACodChtycF9oOnhSeFUzbm1DYWZOWkJldmFVVHBDVkE%7C0cS03xJ-jtb%7C?hl=en",
        text: "Warm welcome. The place is peaceful and very pretty. The rooms are comfortable. We enjoyed the pool and dinner on the terrace. We will gladly return for a stopover heading south.",
      },
      {
        stars: 5,
        name: "Axel PLACIDE",
        publishedAtDate: "2025-07-08T08:55:42.555Z",

        reviewUrl:
          "https://www.google.com/maps/reviews/data=!4m8!14m7!1m6!2m5!1sCi9DQUlRQUNvZENodHljRjlvT2pWcFZIQjBWblZDTUdnM2VVc3diRmQ0YWpKak1rRRAB!2m1!1s0x0:0xe0c49553166e1500!3m1!1s2@1:CAIQACodChtycF9oOjVpVHB0VnVCMGg3eUswbFd4ajJjMkE%7C0cQCoDW5FAS%7C?hl=en",
        text: "I had an excellent night during a business trip in this guest house, whose bucolic environment and appearance are very pleasant. I was greeted with a smile by the owner. The common areas, the room, and the outdoor park are charming. The only downside: the soundproofing of the rooms. I could hear everything happening in the neighboring rooms and vice versa. The charm of the old with its drawbacks. Nevertheless, I highly recommend it!",
      },
    ]}
  />
  <section class="grid grid-cols-6 gap-8 md:gap-10 px-20 mt-48">
    <h2 class="mb-4 col-span-6">{t("home.surroundings.title")}</h2>
    <Card
      title={t("card.safari.title")}
      image="/example.jpg"
      imageAlt="Example Image"
      description={t("card.safari.description")}
      tags={[{ icon: Bike, text: "10 min" }, { text: t("card.tag.family") }]}
      buttonText={t("card.safari.button")}
      buttonLink="/example"
      class="col-span-3"
    />
    <Card
      title={t("card.safari.title")}
      image="/example.jpg"
      imageAlt="Example Image"
      description={t("card.safari.description")}
      tags={[{ icon: Bike, text: "10 min" }, { text: t("card.tag.family") }]}
      buttonText={t("card.safari.button")}
      buttonLink="/example"
      class="col-span-3"
    />
    <Card
      title={t("card.safari.title")}
      image="/example.jpg"
      imageAlt="Example Image"
      description={t("card.safari.description")}
      tags={[{ icon: Bike, text: "10 min" }, { text: t("card.tag.family") }]}
      buttonText={t("card.safari.button")}
      buttonLink="/example"
      class="col-span-2"
    />
    <Card
      title={t("card.safari.title")}
      image="/example.jpg"
      imageAlt="Example Image"
      description={t("card.safari.description")}
      tags={[{ icon: Bike, text: "10 min" }, { text: t("card.tag.family") }]}
      buttonText={t("card.safari.button")}
      buttonLink="/example"
      class="col-span-2"
    />
    <Card
      title={t("card.safari.title")}
      image="/example.jpg"
      imageAlt="Example Image"
      description={t("card.safari.description")}
      tags={[{ icon: Bike, text: "10 min" }, { text: t("card.tag.family") }]}
      buttonText={t("card.safari.button")}
      buttonLink="/example"
      class="col-span-2"
    />
    <Button class="col-span-6 mx-auto mt-6"
      >{t("home.surroundings.button")}</Button
    >
  </section>
  <section class="px-20 my-48">
    <div class="mx-auto bg-muted px-6 py-24 max-w-5xl rounded-3xl">
      <div class="w-fit mx-auto space-y-10">
        <h3>{t("home.booking.title")}</h3>
        <div class="flex justify-between">
          <Button href="/booking">{t("home.booking.button")}</Button>
          <Button href="/booking" variant="secondary"
            >{t("home.booking.secondaryButton")}</Button
          >
        </div>
      </div>
    </div>
  </section>
</Layout>
