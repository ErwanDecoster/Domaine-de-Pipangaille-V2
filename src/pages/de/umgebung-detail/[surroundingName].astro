---
import SurroundingTemplate from "@/components/templates/SurroundingTemplate.astro";
import { surroundings } from "@/constants/surroundings";
import { languages } from "@/i18n/ui";
import { getCurrentLang } from "@/lib/i18n";

export const prerender = true;

export function getStaticPaths() {
  const allSlugs = [
    ...surroundings.toVisit.map((s) => s.slug),
    ...surroundings.toEat.map((s) => s.slug),
  ];
  return allSlugs.map((surroundingName) => ({ params: { surroundingName } }));
}

const lang = getCurrentLang(Astro.currentLocale) as keyof typeof languages;
const { surroundingName } = Astro.params as { surroundingName: string };
---

<SurroundingTemplate lang={lang} surroundingName={surroundingName} />
