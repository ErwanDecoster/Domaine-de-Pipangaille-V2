---
import SurroundingTemplate from "@/components/templates/SurroundingTemplate.astro";
import { surroundings } from "@/constants/surroundings";
import { languages } from "@/i18n/ui";

export function getStaticPaths() {
  const allSlugs = [
    ...surroundings.toVisit.map((s) => s.slug),
    ...surroundings.toEat.map((s) => s.slug),
  ];
  return Object.keys(languages).flatMap((lang) =>
    allSlugs.map((surroundingName) => ({ params: { lang, surroundingName } }))
  );
}

const { lang, surroundingName } = Astro.params as {
  lang: keyof typeof languages;
  surroundingName: string;
};
---

<SurroundingTemplate lang={lang} surroundingName={surroundingName} />
