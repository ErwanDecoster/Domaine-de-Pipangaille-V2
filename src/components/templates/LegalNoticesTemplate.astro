---
import { useTranslations } from "@/lib/i18n";
import Layout from "@/layouts/Layout.astro";
import { ui } from "@/i18n/ui";
import Button from "../ui/button/button.astro";
import MapProviderDialog from "@/components/MapProviderDialog.astro";
import { getLocalizedUrl } from "@/lib/routeTranslator";
import { SITE } from "@/constants/site";

const { lang } = Astro.props as { lang: keyof typeof ui };
const t = useTranslations(lang);

const editorCompany = SITE.legal.companyName;
const editorEmail = SITE.email;
const editorPhone = SITE.phone.formatted;
const editorAddress = SITE.address.formattedWithCountry;
const editorRcsValue = SITE.legal.rcs;
const editorNafValue = SITE.legal.naf;
const editorCapitalValue = SITE.legal.capital;

const designerName = "Anthony Clemenson";
const designerEmail = "replace";
const designerWebsiteUrl = "replace";
const designerWebsiteLabel = "replace";

const developerName = "Erwan Decoster";
const developerEmail = "contact@erwan-decoster.com";
const developerPhone = "+33 6 25 30 68 13";
const developerWebsiteUrl = "https://erwan-decoster.com";
const developerWebsiteLabel = "erwan-decoster.com";
const developerGithubUrl = "https://github.com/ErwanDecoster";
const developerGithubLabel = "github.com/ErwanDecoster";
const developerRepoUrl =
  "https://github.com/ErwanDecoster/domaine-de-pipangaille-v2-astro";
const developerRepoLabel =
  "github.com/ErwanDecoster/domaine-de-pipangaille-v2-astro";

const hostingUrl = "https://vercel.com";
const domainProvider = "Hostinger International Ltd";
const domainUrl = "https://hostinger.fr";

const privacyPolicyUrl = getLocalizedUrl("privacyPolicy", lang);
---

<Layout
  title={t("seo.pages.legal.title")}
  description={t("seo.pages.legal.description")}
>
  <div
    data-scroll-animated
    class="bg-background sticky top-0 z-10 ml-[calc(50%-50vw)] h-28 w-screen"
  >
  </div>

  <div class="grid gap-8 px-4 pt-16 sm:px-6 md:px-10 lg:px-20">
    <h1>{t("legalNotices.title")}</h1>
    <section class="grid gap-4">
      <h2>{t("legalNotices.editor.title")}</h2>
      <div class="grid gap-2 text-lg">
        <p><strong>{editorCompany}</strong></p>
        <div
          class="text-muted-foreground flex items-center gap-2 text-base/[160%] text-pretty"
        >
          <strong>{t("legalNotices.editor.addressLabel")}:</strong>
          <MapProviderDialog
            lang={lang}
            address={editorAddress}
            triggerText={editorAddress}
            triggerVariant="link"
            triggerClass="-mx-6 -my-4 inline-block"
          />
        </div>
        <p class="flex flex-wrap gap-6">
          <span
            ><strong>{t("legalNotices.editor.rcsLabel")}:</strong>
            {editorRcsValue}</span
          >
          <span
            ><strong>{t("legalNotices.editor.nafLabel")}:</strong>
            {editorNafValue}</span
          >
          <span
            ><strong>{t("legalNotices.editor.capitalLabel")}:</strong>
            {editorCapitalValue}</span
          >
        </p>
        <p>
          <strong>{t("legalNotices.editor.phoneLabel")}:</strong>
          <Button
            variant="link"
            class="-mx-6 -my-4"
            href={`tel:${editorPhone.replace(/\s/g, "")}`}
          >
            {editorPhone}
          </Button>
        </p>
        <p>
          <strong>{t("legalNotices.editor.emailLabel")}:</strong>
          <Button
            variant="link"
            class="-mx-6 -my-4"
            href={`mailto:${editorEmail}`}
          >
            {editorEmail}
          </Button>
        </p>
        <p>
          <strong>{t("legalNotices.editor.ceoLabel")}:</strong>
          {t("legalNotices.editor.ceoValue")}
        </p>
      </div>
    </section>

    <section class="grid gap-4">
      <h2>{t("legalNotices.design.title")}</h2>
      <div class="grid gap-2 text-lg">
        <p><strong>{designerName}</strong></p>
        <p>
          <strong>{t("legalNotices.design.emailLabel")}:</strong>
          <Button
            variant="link"
            class="-mx-6 -my-4"
            href={`mailto:${designerEmail}`}
          >
            {designerEmail}
          </Button>
        </p>
        <p>
          <strong>{t("legalNotices.design.websiteLabel")}:</strong>
          <Button
            variant="link"
            class="-mx-6 -my-4"
            href={designerWebsiteUrl}
            target="_blank"
          >
            {designerWebsiteLabel}
          </Button>
        </p>
      </div>
    </section>

    <section class="grid gap-4">
      <h2>{t("legalNotices.development.title")}</h2>
      <div class="grid gap-2 text-lg">
        <p><strong>{developerName}</strong></p>
        <p>
          <strong>{t("legalNotices.development.phoneLabel")}:</strong>
          <Button
            variant="link"
            class="-mx-6 -my-4"
            href={`tel:${developerPhone.replace(/\s/g, "")}`}
          >
            {developerPhone}
          </Button>
        </p>
        <p>
          <strong>{t("legalNotices.development.emailLabel")}:</strong>
          <Button
            variant="link"
            class="-mx-6 -my-4"
            href={`mailto:${developerEmail}`}
          >
            {developerEmail}
          </Button>
        </p>
        <p>
          <strong>{t("legalNotices.development.websiteLabel")}:</strong>
          <Button
            variant="link"
            class="-mx-6 -my-4"
            href={developerWebsiteUrl}
            target="_blank"
          >
            {developerWebsiteLabel}
          </Button>
        </p>
        <p>
          <strong>{t("legalNotices.development.githubLabel")}:</strong>
          <Button
            variant="link"
            class="-mx-6 -my-4"
            href={developerGithubUrl}
            target="_blank"
          >
            {developerGithubLabel}
          </Button>
        </p>
        <p>
          <strong>{t("legalNotices.development.repoLabel")}:</strong>
          <Button
            variant="link"
            class="-mx-6 -my-4"
            href={developerRepoUrl}
            target="_blank"
          >
            {developerRepoLabel}
          </Button>
        </p>
      </div>
    </section>

    <section class="grid gap-4">
      <h2>{t("legalNotices.hosting.title")}</h2>
      <div class="grid gap-2 text-lg">
        <p>{t("legalNotices.hosting.text")}</p>
        <p>
          <Button
            variant="link"
            class="-mx-6 -my-4"
            href={hostingUrl}
            target="_blank"
          >
            {t("legalNotices.hosting.provider")}
          </Button>
        </p>
        <p>{t("legalNotices.hosting.legalStatus")}</p>
      </div>
    </section>

    <section class="grid gap-4">
      <h2>{t("legalNotices.domain.title")}</h2>
      <div class="grid gap-2 text-lg">
        <p>
          <strong>{t("legalNotices.domain.providerLabel")}:</strong>
          <Button
            variant="link"
            class="-mx-6 -my-4"
            href={domainUrl}
            target="_blank"
          >
            {domainProvider}
          </Button>
        </p>
      </div>
    </section>

    <section class="grid gap-4">
      <h2>{t("legalNotices.photos.title")}</h2>
      <div class="grid gap-2 text-lg">
        <p>{t("legalNotices.photos.text")}</p>
      </div>
    </section>

    <section class="grid gap-4">
      <h2>{t("legalNotices.personalData.title")}</h2>
      <div class="grid gap-2 text-lg">
        <p>
          {t("legalNotices.personalData.text")}
          <Button variant="link" class="-mx-6 -my-4" href={privacyPolicyUrl}>
            {t("legalNotices.personalData.privacyPolicyLink")}
          </Button>{t("legalNotices.personalData.suffix")}
        </p>
      </div>
    </section>

    <section class="grid gap-4">
      <h2>{t("legalNotices.liability.title")}</h2>
      <div class="grid gap-2 text-lg">
        <p>{t("legalNotices.liability.text")}</p>
        <ul class="list-inside list-disc space-y-2">
          <li>{t("legalNotices.liability.inaccuracy")}</li>
          <li>{t("legalNotices.liability.unauthorized")}</li>
          <li>{t("legalNotices.liability.interruption")}</li>
        </ul>
      </div>
    </section>

    <section class="grid gap-4">
      <h2>{t("legalNotices.law.title")}</h2>
      <div class="grid gap-2 text-lg">
        <p>{t("legalNotices.law.text")}</p>
      </div>
    </section>
  </div>
</Layout>
