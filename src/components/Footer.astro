---
import { Button } from "./ui/button";
import LanguageSwitcher from "./LanguageSwitcher.astro";
import ThemeSelector from "./ThemeSelector.astro";
import Logo from "./Logo.astro";
import { useTranslations, getCurrentLang, getLocalizedUrl } from "@/lib/i18n";
import PlatformIcon from "./ui/icons/PlatformIcon.astro";
import { SITE } from "@/constants/site";

const lang = getCurrentLang(Astro.currentLocale);
const t = useTranslations(lang);
---

<footer
  class="bg-primary dark:text-background mt-16 pb-32 dark:[--foreground:var(--background)]"
>
  <div
    data-scroll-animated
    class="bg-primary sticky top-0 left-0 z-10 ml-[calc(50%-50vw)] h-28 w-screen"
  >
  </div>
  <div
    class="flex flex-col items-center justify-between gap-x-4 gap-y-12 px-16 md:flex-row md:items-start"
  >
    <Button
      href={getLocalizedUrl("home", lang)}
      class="hidden xl:block"
      variant="link"
      aria-hidden="true"
      tabindex="-1"
    >
      <Logo class="w-48 self-baseline" />
    </Button>
    <div>
      <p class="h5 mb-2 text-center md:text-left">{t("footer.usefulLinks")}</p>
      <ul class="flex flex-wrap justify-center md:flex-col">
        <li>
          <Button
            variant="link"
            class="px-4 py-2 text-left md:-ml-6 md:px-6"
            external
            noArrow
            href={SITE.social.tripadvisor}
          >
            Tripadvisor
          </Button>
        </li>
        <li>
          <Button
            variant="link"
            class="px-4 py-2 text-left md:-ml-6 md:px-6"
            external
            noArrow
            href={SITE.social.pagesJaunes}
          >
            Pages Jaunes
          </Button>
        </li>
      </ul>
    </div>
    <div>
      <p class="h5 mb-2 text-center md:text-left">{t("footer.knowUsBetter")}</p>
      <ul class="flex flex-wrap justify-center md:flex-col">
        <li>
          <Button
            variant="link"
            class="px-4 py-2 text-left md:-ml-6 md:px-6"
            external
            noArrow
            href={SITE.social.facebook}
          >
            <PlatformIcon platform="facebook" class="size-5" />
            Facebook
          </Button>
        </li>
        <li>
          <Button
            variant="link"
            class="px-4 py-2 text-left md:-ml-6 md:px-6"
            external
            noArrow
            href={SITE.social.instagram}
          >
            <PlatformIcon platform="instagram" class="size-5" />
            Instagram
          </Button>
        </li>
        <li>
          <Button
            variant="link"
            class="px-4 py-2 text-left md:-ml-6 md:px-6"
            external
            noArrow
            href={SITE.social.linkedin}
          >
            <PlatformIcon platform="linkedin" class="size-5" />
            LinkedIn
          </Button>
        </li>
        <li>
          <Button
            variant="link"
            class="px-4 py-2 text-left md:-ml-6 md:px-6"
            external
            noArrow
            href={SITE.social.x}
          >
            <PlatformIcon platform="x" class="size-5" />
            X
          </Button>
        </li>
      </ul>
    </div>
    <div>
      <p class="h5 mb-2 text-center md:text-left">{t("footer.moreInfo")}</p>
      <ul class="flex flex-wrap justify-center md:flex-col">
        <li>
          <Button
            variant="link"
            class="px-4 py-2 text-left md:-ml-6 md:px-6"
            href={getLocalizedUrl("place", lang)}>{t("nav.place")}</Button
          >
        </li>
        <li>
          <Button
            variant="link"
            class="px-4 py-2 text-left md:-ml-6 md:px-6"
            href={getLocalizedUrl("accommodations", lang)}
            >{t("nav.accommodations")}</Button
          >
        </li>
        <li>
          <Button
            variant="link"
            class="px-4 py-2 text-left md:-ml-6 md:px-6"
            href={getLocalizedUrl("counter", lang)}>{t("nav.counter")}</Button
          >
        </li>
        <li>
          <Button
            variant="link"
            class="px-4 py-2 text-left md:-ml-6 md:px-6"
            href={getLocalizedUrl("surroundings", lang)}
            >{t("nav.surroundings")}</Button
          >
        </li>
      </ul>
    </div>
    <div>
      <p class="h5 mb-2 text-center md:text-left">{t("footer.contactUs")}</p>
      <ul class="flex flex-wrap justify-center md:flex-col">
        <li>
          <Button
            variant="link"
            class="px-4 py-2 text-left md:-ml-6 md:px-6"
            href={`tel:${SITE.phone.e164}`}>{SITE.phone.formatted}</Button
          >
        </li>
        <li>
          <Button
            variant="link"
            class="px-4 py-2 text-left md:-ml-6 md:px-6"
            href={`mailto:${SITE.email}`}>{SITE.email}</Button
          >
        </li>
        <li>
          <Button
            variant="link"
            class="px-4 py-2 text-left md:-ml-6 md:px-6"
            href={getLocalizedUrl("contact", lang)}
            >{t("footer.contactPage")}</Button
          >
        </li>
      </ul>
    </div>
  </div>
  <div class="px-16 pt-32">
    <ul class="flex flex-col-reverse items-center justify-center md:flex-row">
      <li>
        <Button variant="link" href={getLocalizedUrl("legalNotices", lang)}
          >{t("footer.legalMentions")}</Button
        >
      </li>
      <li>
        <Button variant="link" href={getLocalizedUrl("privacyPolicy", lang)}
          >{t("footer.privacyPolicy")}</Button
        >
      </li>
      <li>
        <Button
          variant="link"
          href={getLocalizedUrl("termsAndConditions", lang)}
          >{t("footer.salesConditions")}</Button
        >
      </li>
      <li>
        <LanguageSwitcher
          idPrefix="footer-language-switcher"
          class="dark:*:border-foreground dark:*:text-foreground my-2 w-full max-w-xs hover:bg-transparent"
        />
      </li>
    </ul>
    <div class="mt-8 flex justify-center">
      <ThemeSelector class="mb-4" />
    </div>
  </div>
</footer>
